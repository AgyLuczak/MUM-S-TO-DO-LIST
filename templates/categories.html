{% extends "base.html" %}
{% block content %}

<section class="heading">
    <div class="row">
        <div class="col s12 m6 top-heading center-align offset-m3">
            <h4 class="text-darken-4 center-align">
                Categories <a href="{{ url_for('add_category') }}" class="btn-floating btn-small purple lighten-1">
                    <i class="fa-solid fa-plus"></i></a></h4>
        </div>
    </div>
</section>

<div class="row">
    {% for category in categories %}
    <div class="col s12 m4">
        <div class="card horizontal center-align pink lighten-1 ">
            <div class="card-content white-text">
                <span class="card-title">{{ category.category_name }}</span>
            </div>
            <!--show edit and delete options only for the categories created by a logged-in user-->
            {% if session.user|lower == category.created_by|lower or session.user|lower == "admin" %}
            <div class="card-action">
                <a href="{{ url_for('edit_category', category_id=category._id) }}" class="btn-small purple lighten-1">
                    <i class="fa-solid fa-pen-to-square"></i>
                </a>
                <a href="{{ url_for('delete_category', category_id=category._id) }}"
                    onclick="return confirmDeleteCategory();" class="btn-small purple lighten-1"><i
                        class="fa-solid fa-trash"></i></a>
            </div>
            {% endif %}
        </div>
    </div>
    {% endfor %}
</div>

{% endblock %}